;-------------------------------------------------------------------------------
; Autor		: Stefan Brück
; E-Mail	: <mailbockx@freenet.de>
; Last change 	: 030828
;-------------------------------------------------------------------------------

;-------------------------------------------------------------------------------
;PARAM: AL = 1 for cold reboot - RET: -
;-------------------------------------------------------------------------------
reboot:
	cmp al,0x01
	jne .warm
.cold:
	mov [0x472],word 0x1234
	jmp .reboot
.warm:
	mov [0x472],word 0x0000
.reboot:
	jmp 0xF000:0xFFF0

;-------------------------------------------------------------------------------
;PARAM: SI=OFFSET OF STRING - RET: -
;-------------------------------------------------------------------------------
print:
.loop
	lodsb
	cmp al, 0x00
	je .fine

	mov ah, 0x0E
	mov bx, 0x07
	int 0x10

	jmp .loop
.fine:
	ret

;-------------------------------------------------------------------------------
;PARAM: SI=OFFSET OF STRING - RET: -
;-------------------------------------------------------------------------------
println:
	call print

	mov al, 0x0D
	mov ah, 0x0E
	mov bx, 0x07
	int 0x10

	mov al, 0x0A
	int 0x10

	ret

;-------------------------------------------------------------------------------
;PARAM: - RET: -
;-------------------------------------------------------------------------------
hang:
	jmp hang

;-------------------------------------------------------------------------------
;PARAM: - RET: -
;-------------------------------------------------------------------------------
reset_floppy:
	mov ax, 0
    mov dl, 0
    int 13h

	ret

;-------------------------------------------------------------------------------
;PARAM: - RET: -
;-------------------------------------------------------------------------------
